<div style="display: flex; width: 100vw; height: 100vh; flex-direction: column; justify-content: center; align-items: center; height: 100vh;">
    <h1>Robot Shooter>
    <div style="display: flex; flex-direction: row;">
        <div>
            <span>Bottom Speed</span> 
            <input id="bottom-speed-input" value="0" />
        </div>
        <div>
            <span>Upper Speed</span> 
            <input id="upper-speed-input" value="0" />
        </div>
    </div>
</div>

<script>
const socket = new WebSocket('ws://10.14.52.2:7070/shooter');
const upper = document.getElementById('upper-speed-input')
const bottom = document.getElementById('bottom-speed-input')

upper.onchange = () => {
    console.log('sending new config')
    if (socket.open) socket.send(`${bottom.value},${upper.value}`)
}

bottom.onchange = () => {
    console.log('sending new config')
    if (socket.open) socket.send(`${bottom.value},${upper.value}`)
}

socket.addEventListener('open', event => {
    socket.send('Hello Server!');
    console.log('connected to socket')
})

socket.addEventListener('message', event => {
    console.log('Message from socket:', event.data)
    if (event.data == 'CONFIG_UPDATED') {
        alert('Updated config')
    }
})




</script>
